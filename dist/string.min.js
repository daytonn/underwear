if(!Object.defineProperty||!function(){try{return Object.defineProperty({},"x",{}),!0}catch(e){return!1}}()){var orig=Object.defineProperty;Object.defineProperty=function(e,t,r){if(orig)try{return orig(e,t,r)}catch(n){}if(e!==Object(e))throw new Error("Object.defineProperty called on non-object");return Object.prototype.__defineGetter__&&"get"in r&&Object.prototype.__defineGetter__.call(e,t,r.get),Object.prototype.__defineSetter__&&"set"in r&&Object.prototype.__defineSetter__.call(e,t,r.set),"value"in r&&(e[t]=r.value),e}}var Underwear=Underwear||{version:"2.0.6",defineMethod:function(e,t,r){e[t]||Object.defineProperty(e,t,{writeable:!1,configurable:!1,enumerable:!1,value:r})},defineAlias:function(e,t,r){e[t]&&Object.defineProperty(e,r,{writeable:!1,configurable:!1,enumerable:!1,value:e[t]})}};Underwear.defineMethod(String.prototype,"camelize",function(){return _(this.split(/_|-|\s/g)).map(function(e,t){return t>0?e.charAt(0).toUpperCase()+e.slice(1):e.toLowerCase()}).join("")}),Underwear.defineMethod(String.prototype,"capitalize",function(){return this.charAt(0).toUpperCase()+this.slice(1)}),Underwear.defineMethod(String.prototype,"chunk",function(e){return e=e?e:this.length,this.match(new RegExp(".{1,"+e+"}","g"))}),Underwear.defineMethod(String.prototype,"compact",function(){return this.replace(/\s/g,"")}),Underwear.defineMethod(String.prototype,"constantize",function(){if(this.match(/_|-|\s/)){var e=_(this.split(/_|-|\s/g)).map(function(e,t){return t>0?e.charAt(0).toUpperCase()+e.slice(1):e.toLowerCase()}).join("");return e.charAt(0).toUpperCase()+e.slice(1)}return this.toString()}),Underwear.defineMethod(String.prototype,"dasherize",function(){return this.replace(/_/g,"-").toLowerCase()}),Underwear.defineMethod(String.prototype,"each",function(e){return _.each.call(this,this.split(""),e)}),Underwear.defineMethod(String.prototype,"escape",function(){return _.escape.apply(this,[this].concat(_.toArray(arguments)))}),Underwear.defineMethod(String.prototype,"humanize",function(){var e=this.replace(/_/g," ").replace(/^\s?/,"").toLowerCase();return e.charAt(0).toUpperCase()+e.slice(1)}),Underwear.defineMethod(String.prototype,"hyphenate",function(){return this.replace(/([A-Z])/g," $1").toLowerCase().replace(/\s|_/g,"-").toLowerCase()}),Underwear.defineMethod(String.prototype,"includes",function(e){var t=new RegExp(e,"g");return!!this.match(t)}),Underwear.defineMethod(String.prototype,"isBlank",function(){return/^(\s?)+$/.test(this)}),Underwear.defineMethod(String.prototype,"isEmpty",function(){return 0===this.length}),Underwear.defineMethod(String.prototype,"isNotEmpty",function(){return this.length>0}),Underwear.defineMethod(String.prototype,"isPresent",function(){return!/^(\s?)+$/.test(this)}),Underwear.defineMethod(String.prototype,"lstrip",function(){return this.replace(/^\s+/,"")}),Underwear.defineMethod(String.prototype,"ltrim",function(){return this.replace(/^\s+/,"")}),String.uncountableWords||Object.defineProperty(String,"uncountableWords",{writeable:!0,configurable:!1,enumerable:!1,value:["equipment","information","rice","money","species","series","fish","sheep","moose","deer","news"]}),Object.defineProperty(String,"pluralizeRules",{writeable:!0,configurable:!1,enumerable:!1,value:[[new RegExp("(m)an$","gi"),"$1en"],[new RegExp("(pe)rson$","gi"),"$1ople"],[new RegExp("(child)$","gi"),"$1ren"],[new RegExp("^(ox)$","gi"),"$1en"],[new RegExp("(ax|test)is$","gi"),"$1es"],[new RegExp("(octop|vir)us$","gi"),"$1i"],[new RegExp("(alias|status)$","gi"),"$1es"],[new RegExp("(bu)s$","gi"),"$1ses"],[new RegExp("(buffal|tomat|potat)o$","gi"),"$1oes"],[new RegExp("([ti])um$","gi"),"$1a"],[new RegExp("sis$","gi"),"ses"],[new RegExp("(?:([^f])fe|([lr])?f)$","gi"),"$1$2ves"],[new RegExp("([^aeiouy]|qu)y$","gi"),"$1ies"],[new RegExp("(matr|vert|ind)(ix|ex)$","gi"),"$1ices"],[new RegExp("(x|ch|ss|sh)$","gi"),"$1es"],[new RegExp("([m|l])ouse$","gi"),"$1ice"],[new RegExp("(quiz)$","gi"),"$1zes"],[new RegExp("s$","gi"),"s"],[new RegExp("$","gi"),"s"]]}),Underwear.defineMethod(String.prototype,"pluralize",function(e){var t,r=this.toString();if(e)e=Math.round(e),t=1===e?r.singularize():r.pluralize();else{if(_(String.uncountableWords).include(r))return r;t=r,_(String.pluralizeRules).find(function(e){var n=e[0],i=e[1],o=n.test(r)?r.replace(n,i):null;return o?t=o:!1})}return t}),Underwear.defineMethod(String.prototype,"rstrip",function(){return this.replace(/\s+$/,"")}),Underwear.defineMethod(String.prototype,"rtrim",function(){return this.replace(/\s+$/,"")}),Underwear.defineMethod(String.prototype,"singleSpace",function(){return this.trim().replace(/\s{1,}/g," ")}),Object.defineProperty(String,"singularizeRules",{writeable:!0,configurable:!1,enumerable:!1,value:[[new RegExp("(m)en$","gi"),"$1an"],[new RegExp("(pe)ople$","gi"),"$1rson"],[new RegExp("(child)ren$","gi"),"$1"],[new RegExp("([ti])a$","gi"),"$1um"],[new RegExp("(hive)s$","gi"),"$1"],[new RegExp("(naly|(b)a|(d)iagno|(p)arenthe|(p)rogno|(s)ynop|(t)he|(io))ses$","gi"),"$1$2sis"],[new RegExp("(tive)s$","gi"),"$1"],[new RegExp("(curve)s$","gi"),"$1"],[new RegExp("([lrae])ves$","gi"),"$1f"],[new RegExp("([^fo])ves$","gi"),"$1fe"],[new RegExp("(m)ovies$","gi"),"$1ovie"],[new RegExp("([^aeiouy]|qu)ies$","gi"),"$1y"],[new RegExp("(s)eries$","gi"),"$1eries"],[new RegExp("([m|l])ice$","gi"),"$1ouse"],[new RegExp("(bus)es$","gi"),"$1"],[new RegExp("(shoe)s$","gi"),"$1"],[new RegExp("(o)es$","gi"),"$1"],[new RegExp("(cris|ax|test)es$","gi"),"$1is"],[new RegExp("(x|ch|ss|sh)es$","gi"),"$1"],[new RegExp("(octop|vir)i$","gi"),"$1us"],[new RegExp("(alias|status)es$","gi"),"$1"],[new RegExp("^(ox)en","gi"),"$1"],[new RegExp("(vert|ind)ices$","gi"),"$1ex"],[new RegExp("(matr)ices$","gi"),"$1ix"],[new RegExp("(quiz)zes$","gi"),"$1"],[new RegExp("([aiou]|s)s$","gi"),"$1s"],[new RegExp("s$","gi"),""]]}),String.uncountableWords||Object.defineProperty(String,"uncountableWords",{writeable:!0,configurable:!1,enumerable:!1,value:["equipment","information","rice","money","species","series","fish","sheep","moose","deer","news"]}),Underwear.defineMethod(String.prototype,"singularize",function(){var e,t=this.toString();return _(String.uncountableWords).include(t)?t:(e=t,_(String.singularizeRules).find(function(r){var n=r[0],i=r[1],o=n.test(t)?t.replace(n,i):null;return o?e=o:!1}),e)}),Underwear.defineMethod(String.prototype,"stripTags",function(){return this.replace(/<\w+(\s+("[^"]*"|'[^']*'|[^>])+)?>|<\/\w+>/gi,"")}),Underwear.defineMethod(String.prototype,"strip",function(){return this.replace(/^\s+(.+)\s+$/,"$1")}),Underwear.defineMethod(String.prototype,"swapCase",function(){return this.replace(/[A-Za-z]/g,function(e){return/[A-Z]/.test(e)?e.toLowerCase():e.toUpperCase()})}),Underwear.defineMethod(String.prototype,"titleCase",function(){return _(this.replace(/([A-Z])/g," $1").replace(/-|_/g," ").split(/\s/)).map(function(e){return e.charAt(0).toUpperCase()+e.slice(1)}).join(" ")}),Underwear.defineMethod(String.prototype,"titleize",function(){return _(this.replace(/([A-Z])/g," $1").replace(/-|_/g," ").split(/\s/)).map(function(e){return e.charAt(0).toUpperCase()+e.slice(1)}).join(" ")}),Underwear.defineMethod(String.prototype,"toBoolean",function(){var e=["true","yes","on","y"],t=["false","no","off","n"];return _(e).contains(this.toLowerCase())?!0:_(t).contains(this.toLowerCase())?!1:this.length>0?!0:!1}),Underwear.defineMethod(String.prototype,"toNumber",function(){return 1*this||0}),Underwear.defineMethod(String.prototype,"trim",function(){return this.replace(/^\s+(.+)\s+$/,"$1")}),Underwear.defineMethod(String.prototype,"truncate",function(e){return this.length>e?this.substring(0,e)+"...":this}),Underwear.defineMethod(String.prototype,"underscore",function(){return this.replace(/([A-Z])/g," $1").replace(/^\s?/,"").replace(/-|\s/g,"_").toLowerCase()}),Underwear.defineMethod(String.prototype,"unescape",function(){return _.unescape.apply(this,[this].concat(_.toArray(arguments)))}),Underwear.defineMethod(String.prototype,"unwrap",function(e){return this.replace(new RegExp("^"+e+"(.+)"+e+"$"),"$1")}),Underwear.defineMethod(String.prototype,"wordCount",function(e){var t,r=this.stripTags();return t=r.match(e?new RegExp(e,"g"):/\b[A-Za-z_]+\b/g),t?t.length:0}),Underwear.defineMethod(String.prototype,"wrap",function(e){return e.concat(this,e)});