if(!Object.defineProperty||!function(){try{return Object.defineProperty({},"x",{}),!0}catch(e){return!1}}()){var orig=Object.defineProperty;Object.defineProperty=function(e,t,r){if(orig)try{return orig(e,t,r)}catch(n){}if(e!==Object(e))throw new Error("Object.defineProperty called on non-object");return Object.prototype.__defineGetter__&&"get"in r&&Object.prototype.__defineGetter__.call(e,t,r.get),Object.prototype.__defineSetter__&&"set"in r&&Object.prototype.__defineSetter__.call(e,t,r.set),"value"in r&&(e[t]=r.value),e}}var Underwear=Underwear||{version:"2.0.4",defineMethod:function(e,t,r){e[t]||Object.defineProperty(e,t,{writeable:!1,configurable:!1,enumerable:!1,value:r})},defineAlias:function(e,t,r){e[t]&&Object.defineProperty(e,r,{writeable:!1,configurable:!1,enumerable:!1,value:e[t]})}};Underwear.defineMethod(String.prototype,"camelize",function(){return _(this.split(/_|-|\s/g)).map(function(e,t){return t>0?e.charAt(0).toUpperCase()+e.slice(1):e.toLowerCase()}).join("")}),Underwear.defineMethod(String.prototype,"capitalize",function(){return this.charAt(0).toUpperCase()+this.slice(1)}),Underwear.defineMethod(String.prototype,"chunk",function(e){return e=e?e:this.length,this.match(new RegExp(".{1,"+e+"}","g"))}),Underwear.defineMethod(String.prototype,"compact",function(){return this.replace(/\s/g,"")}),Underwear.defineMethod(String.prototype,"constantize",function(){var e=_(this.split(/_|-|\s/g)).map(function(e,t){return t>0?e.charAt(0).toUpperCase()+e.slice(1):e.toLowerCase()}).join("");return e.charAt(0).toUpperCase()+e.slice(1)}),Underwear.defineMethod(String.prototype,"dasherize",function(){return this.replace(/_/g,"-").toLowerCase()}),Underwear.defineMethod(String.prototype,"each",function(e){return _.each.call(this,this.split(""),e)}),Underwear.defineMethod(String.prototype,"escape",function(){return _.escape.apply(this,[this].concat(_.toArray(arguments)))}),Underwear.defineMethod(String.prototype,"humanize",function(){var e=this.replace(/_/g," ").replace(/^\s?/,"").toLowerCase();return e.charAt(0).toUpperCase()+e.slice(1)}),Underwear.defineMethod(String.prototype,"hyphenate",function(){return this.replace(/([A-Z])/g," $1").toLowerCase().replace(/\s|_/g,"-").toLowerCase()}),Underwear.defineMethod(String.prototype,"includes",function(e){var t=new RegExp(e,"g");return!!this.match(t)}),Underwear.defineMethod(String.prototype,"isBlank",function(){return/^(\s?)+$/.test(this)}),Underwear.defineMethod(String.prototype,"isEmpty",function(){return 0===this.length}),Underwear.defineMethod(String.prototype,"isNotEmpty",function(){return this.length>0}),Underwear.defineMethod(String.prototype,"isPresent",function(){return!/^(\s?)+$/.test(this)}),Underwear.defineMethod(String.prototype,"lstrip",function(){return this.replace(/^\s+/,"")}),Underwear.defineMethod(String.prototype,"ltrim",function(){return this.replace(/^\s+/,"")}),Underwear.defineMethod(String.prototype,"rstrip",function(){return this.replace(/\s+$/,"")}),Underwear.defineMethod(String.prototype,"rtrim",function(){return this.replace(/\s+$/,"")}),Underwear.defineMethod(String.prototype,"singleSpace",function(){return this.trim().replace(/\s{1,}/g," ")}),Underwear.defineMethod(String.prototype,"stripTags",function(){return this.replace(/<\w+(\s+("[^"]*"|'[^']*'|[^>])+)?>|<\/\w+>/gi,"")}),Underwear.defineMethod(String.prototype,"strip",function(){return this.replace(/^\s+(.+)\s+$/,"$1")}),Underwear.defineMethod(String.prototype,"swapCase",function(){return this.replace(/[A-Za-z]/g,function(e){return/[A-Z]/.test(e)?e.toLowerCase():e.toUpperCase()})}),Underwear.defineMethod(String.prototype,"titleCase",function(){return _(this.replace(/([A-Z])/g," $1").replace(/-|_/g," ").split(/\s/)).map(function(e){return e.charAt(0).toUpperCase()+e.slice(1)}).join(" ")}),Underwear.defineMethod(String.prototype,"titleize",function(){return _(this.replace(/([A-Z])/g," $1").replace(/-|_/g," ").split(/\s/)).map(function(e){return e.charAt(0).toUpperCase()+e.slice(1)}).join(" ")}),Underwear.defineMethod(String.prototype,"toBoolean",function(){var e=["true","yes","on","y"],t=["false","no","off","n"];return _(e).contains(this.toLowerCase())?!0:_(t).contains(this.toLowerCase())?!1:this.length>0?!0:!1}),Underwear.defineMethod(String.prototype,"toNumber",function(){return 1*this||0}),Underwear.defineMethod(String.prototype,"trim",function(){return this.replace(/^\s+(.+)\s+$/,"$1")}),Underwear.defineMethod(String.prototype,"truncate",function(e){return this.length>e?this.substring(0,e)+"...":this}),Underwear.defineMethod(String.prototype,"underscore",function(){return this.replace(/([A-Z])/g," $1").replace(/^\s?/,"").replace(/-|\s/g,"_").toLowerCase()}),Underwear.defineMethod(String.prototype,"unescape",function(){return _.unescape.apply(this,[this].concat(_.toArray(arguments)))}),Underwear.defineMethod(String.prototype,"unwrap",function(e){return this.replace(new RegExp("^"+e+"(.+)"+e+"$"),"$1")}),Underwear.defineMethod(String.prototype,"wordCount",function(e){var t,r=this.stripTags();return t=r.match(e?new RegExp(e,"g"):/\b[A-Za-z_]+\b/g),t?t.length:0}),Underwear.defineMethod(String.prototype,"wrap",function(e){return e.concat(this,e)});