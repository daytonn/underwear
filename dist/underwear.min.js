if(!Object.defineProperty||!function(){try{return Object.defineProperty({},"x",{}),!0}catch(e){return!1}}()){var orig=Object.defineProperty;Object.defineProperty=function(e,t,r){if(orig)try{return orig(e,t,r)}catch(n){}if(e!==Object(e))throw new Error("Object.defineProperty called on non-object");return Object.prototype.__defineGetter__&&"get"in r&&Object.prototype.__defineGetter__.call(e,t,r.get),Object.prototype.__defineSetter__&&"set"in r&&Object.prototype.__defineSetter__.call(e,t,r.set),"value"in r&&(e[t]=r.value),e}}var Underwear=Underwear||{version:"2.0.4",defineMethod:function(e,t,r){e[t]||Object.defineProperty(e,t,{writeable:!1,configurable:!1,enumerable:!1,value:r})},defineAlias:function(e,t,r){e[t]&&Object.defineProperty(e,r,{writeable:!1,configurable:!1,enumerable:!1,value:e[t]})}};Underwear.defineMethod(Array.prototype,"all",function(){return _.all.apply(_,[this].concat(_.toArray(arguments)))}),Underwear.defineMethod(Array.prototype,"any",function(){return _.any.apply(_,[this].concat(_.toArray(arguments)))}),Underwear.defineMethod(Array.prototype,"collect",function(){return _.collect.apply(_,[this].concat(_.toArray(arguments)))}),Underwear.defineMethod(Array.prototype,"compact",function(){return _.compact.apply(_,[this].concat(_.toArray(arguments)))}),Underwear.defineMethod(Array.prototype,"contains",function(){return _.contains.apply(_,[this].concat(_.toArray(arguments)))}),Underwear.defineMethod(Array.prototype,"countBy",function(){return _.countBy.apply(_,[this].concat(_.toArray(arguments)))}),Underwear.defineMethod(Array.prototype,"detect",function(){return _.detect.apply(_,[this].concat(_.toArray(arguments)))}),Underwear.defineMethod(Array.prototype,"difference",function(){return _.difference.apply(_,[this].concat(_.toArray(arguments)))}),Underwear.defineMethod(Array.prototype,"each",function(){return _.each.apply(_,[this].concat(_.toArray(arguments)))}),Underwear.defineMethod(Array.prototype,"every",function(){return _.every.apply(_,[this].concat(_.toArray(arguments)))}),Underwear.defineMethod(Array.prototype,"filter",function(){return _.filter.apply(_,[this].concat(_.toArray(arguments)))}),Underwear.defineMethod(Array.prototype,"find",function(){return _.find.apply(_,[this].concat(_.toArray(arguments)))}),Underwear.defineMethod(Array.prototype,"first",function(){return _.first.apply(_,[this].concat(_.toArray(arguments)))}),Underwear.defineMethod(Array.prototype,"flatten",function(){return _.flatten.apply(_,[this].concat(_.toArray(arguments)))}),Underwear.defineMethod(Array.prototype,"foldr",function(){return _.foldr.apply(_,[this].concat(_.toArray(arguments)))}),Underwear.defineMethod(Array.prototype,"groupBy",function(){return _.groupBy.apply(_,[this].concat(_.toArray(arguments)))}),Underwear.defineMethod(Array.prototype,"include",function(){return _.include.apply(_,[this].concat(_.toArray(arguments)))}),Underwear.defineMethod(Array.prototype,"indexOf",function(){return _.indexOf.apply(_,[this].concat(_.toArray(arguments)))}),Underwear.defineMethod(Array.prototype,"initial",function(){return _.initial.apply(_,[this].concat(_.toArray(arguments)))}),Underwear.defineMethod(Array.prototype,"inject",function(){return _.inject.apply(_,[this].concat(_.toArray(arguments)))}),Underwear.defineMethod(Array.prototype,"intersection",function(){return _.intersection.apply(_,[this].concat(_.toArray(arguments)))}),Underwear.defineMethod(Array.prototype,"invoke",function(){return _.invoke.apply(_,[this].concat(_.toArray(arguments)))}),Underwear.defineMethod(Array.prototype,"isEmpty",function(){return _.isEmpty.apply(_,[this].concat(_.toArray(arguments)))}),Underwear.defineMethod(Array.prototype,"isNotEmpty",function(){return!_.isEmpty.call(this,this)}),Underwear.defineMethod(Array.prototype,"lastIndexOf",function(){return _.lastIndexOf.apply(_,[this].concat(_.toArray(arguments)))}),Underwear.defineMethod(Array.prototype,"last",function(){return _.last.apply(_,[this].concat(_.toArray(arguments)))}),Underwear.defineMethod(Array.prototype,"map",function(){return _.map.apply(_,[this].concat(_.toArray(arguments)))}),Underwear.defineMethod(Array.prototype,"max",function(){return _.max.apply(_,[this].concat(_.toArray(arguments)))}),Underwear.defineMethod(Array.prototype,"min",function(){return _.min.apply(_,[this].concat(_.toArray(arguments)))}),Underwear.defineMethod(Array.prototype,"pluck",function(){return _.pluck.apply(_,[this].concat(_.toArray(arguments)))}),Underwear.defineMethod(Array,"range",function(){return _.range.apply([],arguments)}),Underwear.defineMethod(Array.prototype,"reduceRight",function(){return _.reduceRight.apply(_,[this].concat(_.toArray(arguments)))}),Underwear.defineMethod(Array.prototype,"reduce",function(){return _.reduce.apply(_,[this].concat(_.toArray(arguments)))}),Underwear.defineMethod(Array.prototype,"reject",function(){return _.reject.apply(_,[this].concat(_.toArray(arguments)))}),Underwear.defineMethod(Array.prototype,"rest",function(){return _.rest.apply(_,[this].concat(_.toArray(arguments)))}),Underwear.defineMethod(Array.prototype,"second",function(){return this[1]}),Underwear.defineMethod(Array.prototype,"select",function(){return _.select.apply(_,[this].concat(_.toArray(arguments)))}),Underwear.defineMethod(Array.prototype,"shuffle",function(){return _.shuffle.apply(_,[this].concat(_.toArray(arguments)))}),Underwear.defineMethod(Array.prototype,"size",function(){return _.size.apply(_,[this].concat(_.toArray(arguments)))}),Underwear.defineMethod(Array.prototype,"some",function(){return _.some.apply(_,[this].concat(_.toArray(arguments)))}),Underwear.defineMethod(Array.prototype,"sortBy",function(){return _.sortBy.apply(_,[this].concat(_.toArray(arguments)))}),Underwear.defineMethod(Array.prototype,"sortedIndex",function(){return _.sortedIndex.apply(_,[this].concat(_.toArray(arguments)))}),Underwear.defineMethod(Array.prototype,"sum",function(){return _.reduce(this,function(e,t){return e+t},0)}),Underwear.defineMethod(Array.prototype,"tail",function(){return _.tail.apply(_,[this].concat(_.toArray(arguments)))}),Underwear.defineMethod(Array.prototype,"take",function(){return _.take.apply(_,[this].concat(_.toArray(arguments)))}),Underwear.defineMethod(Array.prototype,"third",function(){return this[2]}),Underwear.defineMethod(Array.prototype,"union",function(){return _.union.apply(_,[this].concat(_.toArray(arguments)))}),Underwear.defineMethod(Array.prototype,"uniq",function(){return _.uniq.apply(_,[this].concat(_.toArray(arguments)))}),Underwear.defineMethod(Array.prototype,"without",function(){return _.without.apply(_,[this].concat(_.toArray(arguments)))}),Underwear.defineMethod(Array.prototype,"zip",function(){return _.zip.apply(_,[this].concat(_.toArray(arguments)))}),Underwear.defineMethod(Object.prototype,"_clone",function(){return _.clone.apply(this,[this].concat(_.toArray(arguments)))}),Underwear.defineMethod(Object.prototype,"_defaults",function(){return _.defaults.apply(this,[this].concat(_.toArray(arguments)))}),Underwear.defineMethod(Object.prototype,"_extend",function(){return _.extend.apply(this,[this].concat(_.toArray(arguments)))}),Underwear.defineMethod(Object.prototype,"_functions",function(){return _.functions.apply(this,[this].concat(_.toArray(arguments)))}),Underwear.defineMethod(Object.prototype,"_keys",function(){return _.keys.apply(this,[this].concat(_.toArray(arguments)))}),Underwear.defineMethod(Object.prototype,"_map",function(){return _.map.apply(this,[this].concat(_.toArray(arguments)))}),Underwear.defineMethod(Object.prototype,"_omit",function(){return _.omit.apply(this,[this].concat(_.toArray(arguments)))}),Underwear.defineMethod(Object.prototype,"_pairs",function(){return _.pairs.apply(this,[this].concat(_.toArray(arguments)))}),Underwear.defineMethod(Object.prototype,"_pick",function(){return _.pick.apply(this,[this].concat(_.toArray(arguments)))}),Underwear.defineMethod(Object.prototype,"_values",function(){return _.values.apply(this,[this].concat(_.toArray(arguments)))}),Underwear.defineMethod(String.prototype,"camelize",function(){return _(this.split(/_|-|\s/g)).map(function(e,t){return t>0?e.charAt(0).toUpperCase()+e.slice(1):e.toLowerCase()}).join("")}),Underwear.defineMethod(String.prototype,"capitalize",function(){return this.charAt(0).toUpperCase()+this.slice(1)}),Underwear.defineMethod(String.prototype,"chunk",function(e){return e=e?e:this.length,this.match(new RegExp(".{1,"+e+"}","g"))}),Underwear.defineMethod(String.prototype,"compact",function(){return this.replace(/\s/g,"")}),Underwear.defineMethod(String.prototype,"constantize",function(){var e=_(this.split(/_|-|\s/g)).map(function(e,t){return t>0?e.charAt(0).toUpperCase()+e.slice(1):e.toLowerCase()}).join("");return e.charAt(0).toUpperCase()+e.slice(1)}),Underwear.defineMethod(String.prototype,"dasherize",function(){return this.replace(/_/g,"-").toLowerCase()}),Underwear.defineMethod(String.prototype,"each",function(e){return _.each.call(this,this.split(""),e)}),Underwear.defineMethod(String.prototype,"escape",function(){return _.escape.apply(this,[this].concat(_.toArray(arguments)))}),Underwear.defineMethod(String.prototype,"humanize",function(){var e=this.replace(/_/g," ").replace(/^\s?/,"").toLowerCase();return e.charAt(0).toUpperCase()+e.slice(1)}),Underwear.defineMethod(String.prototype,"hyphenate",function(){return this.replace(/([A-Z])/g," $1").toLowerCase().replace(/\s|_/g,"-").toLowerCase()}),Underwear.defineMethod(String.prototype,"includes",function(e){var t=new RegExp(e,"g");return!!this.match(t)}),Underwear.defineMethod(String.prototype,"isBlank",function(){return/^(\s?)+$/.test(this)}),Underwear.defineMethod(String.prototype,"isEmpty",function(){return 0===this.length}),Underwear.defineMethod(String.prototype,"isNotEmpty",function(){return this.length>0}),Underwear.defineMethod(String.prototype,"isPresent",function(){return!/^(\s?)+$/.test(this)}),Underwear.defineMethod(String.prototype,"lstrip",function(){return this.replace(/^\s+/,"")}),Underwear.defineMethod(String.prototype,"ltrim",function(){return this.replace(/^\s+/,"")}),Underwear.defineMethod(String.prototype,"rstrip",function(){return this.replace(/\s+$/,"")}),Underwear.defineMethod(String.prototype,"rtrim",function(){return this.replace(/\s+$/,"")}),Underwear.defineMethod(String.prototype,"singleSpace",function(){return this.trim().replace(/\s{1,}/g," ")}),Underwear.defineMethod(String.prototype,"stripTags",function(){return this.replace(/<\w+(\s+("[^"]*"|'[^']*'|[^>])+)?>|<\/\w+>/gi,"")}),Underwear.defineMethod(String.prototype,"strip",function(){return this.replace(/^\s+(.+)\s+$/,"$1")}),Underwear.defineMethod(String.prototype,"swapCase",function(){return this.replace(/[A-Za-z]/g,function(e){return/[A-Z]/.test(e)?e.toLowerCase():e.toUpperCase()})}),Underwear.defineMethod(String.prototype,"titleCase",function(){return _(this.replace(/([A-Z])/g," $1").replace(/-|_/g," ").split(/\s/)).map(function(e){return e.charAt(0).toUpperCase()+e.slice(1)}).join(" ")}),Underwear.defineMethod(String.prototype,"titleize",function(){return _(this.replace(/([A-Z])/g," $1").replace(/-|_/g," ").split(/\s/)).map(function(e){return e.charAt(0).toUpperCase()+e.slice(1)}).join(" ")}),Underwear.defineMethod(String.prototype,"toBoolean",function(){var e=["true","yes","on","y"],t=["false","no","off","n"];return _(e).contains(this.toLowerCase())?!0:_(t).contains(this.toLowerCase())?!1:this.length>0?!0:!1}),Underwear.defineMethod(String.prototype,"toNumber",function(){return 1*this||0}),Underwear.defineMethod(String.prototype,"trim",function(){return this.replace(/^\s+(.+)\s+$/,"$1")}),Underwear.defineMethod(String.prototype,"truncate",function(e){return this.length>e?this.substring(0,e)+"...":this}),Underwear.defineMethod(String.prototype,"underscore",function(){return this.replace(/([A-Z])/g," $1").replace(/^\s?/,"").replace(/-|\s/g,"_").toLowerCase()}),Underwear.defineMethod(String.prototype,"unescape",function(){return _.unescape.apply(this,[this].concat(_.toArray(arguments)))}),Underwear.defineMethod(String.prototype,"unwrap",function(e){return this.replace(new RegExp("^"+e+"(.+)"+e+"$"),"$1")}),Underwear.defineMethod(String.prototype,"wordCount",function(e){var t,r=this.stripTags();return t=r.match(e?new RegExp(e,"g"):/\b[A-Za-z_]+\b/g),t?t.length:0}),Underwear.defineMethod(String.prototype,"wrap",function(e){return e.concat(this,e)}),function(e){e.isArguments=_.isArguments}(global||window||this),function(e){e.isArray=_.isArray}(global||window||this),function(e){e.isBoolean=_.isBoolean}(global||window||this),function(e){e.isDate=_.isDate}(global||window||this),function(e){e.isDefined=function(e){return!_.isUndefined(e)}}(global||window||this),function(e){e.isElement=_.isElement}(global||window||this),function(e){e.isEmpty=function(e){return!(e&&e.length>0)}}(global||window||this),function(e){e.isEqual=_.isEqual}(global||window||this),function(e){e.isFunction=_.isFunction}(global||window||this),function(e){e.isNaN=_.isNaN}(global||window||this),function(e){e.isNotTypeof=function(e,t){return t.constructor!==e}}(global||window||this),function(e){e.isNull=_.isNull}(global||window||this),function(e){e.isNumber=_.isNumber}(global||window||this),function(e){e.isObject=_.isObject}(global||window||this),function(e){e.isRegExp=_.isRegExp}(global||window||this),function(e){e.isString=_.isString}(global||window||this),function(e){e.isTypeof=function(e,t){return t.constructor===e}}(global||window||this),function(e){e.isUndefined=_.isUndefined}(global||window||this),function(e){e.sequence=_.uniqueId}(global||window||this);